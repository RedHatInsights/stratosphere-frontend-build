(self.webpackChunkconnect=self.webpackChunkconnect||[]).push([[185],{2185:function(n,e,t){"use strict";t.r(e),t.d(e,{ScalprumComponent:function(){return P},ScalprumContext:function(){return _},ScalprumProvider:function(){return A},default:function(){return A},useLoadModule:function(){return D},useModule:function(){return I},useScalprum:function(){return L}});var r=t(2950),o=t.n(r),i=function(){return i=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},i.apply(this,arguments)},c=function(n,e,t,r){return new(t||(t=Promise))((function(o,i){function c(n){try{a(r.next(n))}catch(n){i(n)}}function u(n){try{a(r.throw(n))}catch(n){i(n)}}function a(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,u)}a((r=r.apply(n,e||[])).next())}))},u=function(n,e){var t,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;c;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!((o=(o=c.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(n,c)}catch(n){i=[6,n],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}},a="__scalprum__",l=function(n,e,t){void 0===t&&(t=!1);try{var r=window[a].factories[n];if(!r||!r.expiration)return;if(t||((new Date).getTime()-r.expiration.getTime())/1e3>window[a].scalprumOptions.cacheTimeout)return void delete window[a].factories[n];var o=r.modules[e];if(!e)return;return o}catch(t){return void console.warn("Unable to retriev cached module "+n+" "+e+". New module will be loaded.",t)}},s=function(n){delete window[a].pendingInjections[n]},f=function(n,e,t){return window[a].pendingLoading[n+"#"+e]=t,t.then((function(t){return delete window[a].pendingLoading[n+"#"+e],t})).catch((function(){delete window[a].pendingLoading[n+"#"+e]})),t},p=function(n){var e=n.appsConfig,t=n.api,r=n.options,o=i({cacheTimeout:120},r);window[a]=i({appsConfig:e,pendingInjections:{},pendingLoading:{},factories:{},scalprumOptions:o},t)},h=function(n){return window[a].appsConfig[n]},d=function(n,e){var t,r=void 0;if(!function(n){var e;return 0===(null===(e=document.querySelectorAll('script[src="'+n+'"]'))||void 0===e?void 0:e.length)}(e))return Promise.resolve([n,null===(t=document.querySelectorAll('script[src="'+e+'"]'))||void 0===t?void 0:t[0]]);var o=new Promise((function(t,o){(r=document.createElement("script")).src=e,r.id="container_entry_"+n,r.onload=function(){t([n,r])},r.onerror=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];console.log(n),o([n,r])}}));return void 0!==r&&document.body.appendChild(r),o};function v(n,e,t,r){return c(this,void 0,void 0,(function(){var o,i,l,f,p=this;return u(this,(function(h){switch(h.label){case 0:return(o=new Headers).append("Pragma","no-cache"),o.append("Cache-Control","no-cache"),o.append("expires","0"),[4,fetch(n,{method:"GET",headers:o})];case 1:return[4,h.sent().json()];case 2:return i=h.sent(),v=t,(l=window[a].pendingInjections[v])?[2,l]:(f=Promise.all(Object.entries(i).filter((function(n){var e=n[0];return!t||e===t})).flatMap(r||function(n){return n[1].entry||n}).map((function(n){return c(p,void 0,void 0,(function(){var r;return u(this,(function(o){switch(o.label){case 0:return[4,d(e,n)];case 1:return r=o.sent(),s(t),[2,r]}}))}))}))),function(n,e){window[a].pendingInjections[n]=e}(t,f),f.then((function(n){return s(t),n})),[2,f])}var v}))}))}function w(n,e){return c(this,void 0,void 0,(function(){var r,o,c,l;return u(this,(function(u){switch(u.label){case 0:if(void 0===n||0===n.length)throw new Error("Scope can't be undefined or empty");if(void 0===e||0===e.length)throw new Error("Module can't be undefined or empty");return e.startsWith("./")||console.warn("Your module "+e+" doesn't start with './' this indicates an error"),[4,t.I("default")];case 1:return u.sent(),[4,(r=window[n]).init(t.S.default)];case 2:return u.sent(),[4,window[n].get(e)];case 3:return o=u.sent(),window[a].factories[n]||(window[a].factories[n]={}),c={init:r.init,modules:i(i({},window[a].factories[n].modules),(l={},l[e]=o(),l)),expiration:new Date},window[a].factories[n]=c,[2,o()]}}))}))}var y=t(8446),m=t.n(y),b=function(n){var e=n.error,t=n.errorInfo;return o().createElement("div",null,o().createElement("h2",null,"Error loading component"),(null==e?void 0:e.message)&&o().createElement("p",null,e.message),(null==t?void 0:t.componentStack)?o().createElement("pre",null,null==t?void 0:t.componentStack):(null==e?void 0:e.stack)&&o().createElement("pre",null,e.stack))},g=function(){return g=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},g.apply(this,arguments)};function E(n,e,t){var r=this;return void 0===t&&(t=b),function(){return i=r,c=void 0,a=function(){var r,i;return function(n,e){var t,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;c;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!((o=(o=c.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(n,c)}catch(n){i=[6,n],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,w(n,e)];case 1:return r=c.sent(),[3,3];case 2:return i=c.sent(),r={default:function(n){return o().createElement(t,g({},n,{error:i}))}},[3,3];case 3:return[2,r]}}))},new((u=void 0)||(u=Promise))((function(n,e){function t(n){try{o(a.next(n))}catch(n){e(n)}}function r(n){try{o(a.throw(n))}catch(n){e(n)}}function o(e){var o;e.done?n(e.value):(o=e.value,o instanceof u?o:new u((function(n){n(o)}))).then(t,r)}o((a=a.apply(i,c||[])).next())}));var i,c,u,a}}var k,O=(k=function(n,e){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,e){n.__proto__=e}||function(n,e){for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(n[t]=e[t])},k(n,e)},function(n,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function t(){this.constructor=n}k(n,e),n.prototype=null===e?Object.create(e):(t.prototype=e.prototype,new t)}),C=function(){return C=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},C.apply(this,arguments)},S=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]])}return t},x=function(n){var e=n.fallback,t=void 0===e?"loading":e,i=n.appName,c=n.scope,u=n.module,s=n.ErrorComponent,p=n.processor,w=n.innerRef,y=n.skipCache,m=void 0!==y&&y,b=S(n,["fallback","appName","scope","module","ErrorComponent","processor","innerRef","skipCache"]),g=h(i),k=g.scriptLocation,O=g.manifestLocation,x=(0,r.useReducer)((function(n){return n+1}),0),j=x[0],P=x[1],_=(0,r.useState)(void 0),R=_[0],A=_[1];return(0,r.useEffect)((function(){var n=l(c,u,m),e=!0,t=function(){return e&&A((function(){return function(n){return o().createElement(s,C({},n))}}))},r=function(n,e){return window[a].pendingLoading[n+"#"+e]}(c,u);if(!n&&r)r.finally((function(){P()}));else if(n)try{e&&A((function(){return n.default}))}catch(n){t()}else if(k){var h=d(i,k).then((function(){e&&A((function(){return o().lazy(E(c,u,s))}))})).catch(t);f(c,u,h)}else if(O){var w=v(O,i,c,p).then((function(){e&&A((function(){return o().lazy(E(c,u,s))}))})).catch(t);f(c,u,w)}return function(){e=!1}}),[i,c,m,j]),o().createElement(r.Suspense,{fallback:t},R?o().createElement(R,C({ref:w},b)):t)},j=function(n){function e(e){var t=n.call(this,e)||this;return t.state={hasError:!1},t.selfRepairAttempt=!1,t}return O(e,n),e.getDerivedStateFromError=function(){return{hasError:!0}},e.prototype.shouldComponentUpdate=function(n,e){return this.state.hasError!==e.hasError||!m()(n,this.props)||!m()(e,this.state)},e.prototype.componentDidCatch=function(n,e){!0===this.selfRepairAttempt?(console.error("Scalprum encountered an error!",n.message),this.setState({error:n,errorInfo:e})):(console.warn("Scalprum failed to render component. Attempting to skip module cache."),this.setState({repairAttempt:!0}))},e.prototype.render=function(){var n=this,e=this.props,t=e.ErrorComponent,r=void 0===t?o().createElement(b,C({},this.state)):t,i=S(e,["ErrorComponent"]),c=function(e){return o().cloneElement(r,C(C({},n.state),e))};return this.state.repairAttempt&&!this.selfRepairAttempt?(this.selfRepairAttempt=!0,o().createElement(x,C({},i,{skipCache:!0,ErrorComponent:c}))):this.state.hasError&&this.selfRepairAttempt?o().cloneElement(r,C({},this.state)):o().createElement(x,C({},i,{ErrorComponent:c}))},e.defaultProps={ErrorComponent:o().createElement(b,null)},e}(o().Component),P=o().forwardRef((function(n,e){return o().createElement(j,C({},n,{innerRef:e}))})),_=(0,r.createContext)({initialized:!1,config:{},api:void 0}),R=function(){return R=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},R.apply(this,arguments)};function A(n){var e=n.config,t=n.children,i=n.api,c=(0,r.useRef)(!1),u=(0,r.useState)({initialized:!1,config:{},api:i}),a=u[0],l=u[1];return(0,r.useEffect)((function(){"object"==typeof e&&(p({appsConfig:e,api:i}),l((function(n){return R(R({},n),{initialized:!0,config:e})})),c.current=!0),"function"==typeof e&&Promise.resolve(e()).then((function(n){l((function(e){return R(R({},e),{initialized:!0,config:n})})),p({appsConfig:n,api:i}),c.current=!0}))}),[e]),(0,r.useEffect)((function(){c.current&&l((function(n){return R(R({},n),{api:i})}))}),[i]),o().createElement(_.Provider,{value:a},t)}function L(n){var e=(0,r.useContext)(_);return"function"==typeof n?n(e):e}var T=function(){return T=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},T.apply(this,arguments)};function I(n,e,t,o){var i=this;void 0===o&&(o={});var c=T({skipCache:!1},o),u=(0,r.useState)(t),a=u[0],s=u[1],f=(0,r.useCallback)((function(){return t=i,r=void 0,u=function(){var t,r;return function(n,e){var t,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;c;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!((o=(o=c.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(n,c)}catch(n){i=[6,n],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}(this,(function(o){switch(o.label){case 0:if(t=l(n,e,c.skipCache))return[3,5];o.label=1;case 1:return o.trys.push([1,3,,4]),[4,w(n,e)];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),console.error('Module not initialized! Module "'+e+'" was not found in "'+n+'" webpack scope. Make sure the remote container is loaded?'),[3,4];case 4:return[3,6];case 5:r=t,o.label=6;case 6:return s((function(){return r})),[2]}}))},new((o=void 0)||(o=Promise))((function(n,e){function i(n){try{a(u.next(n))}catch(n){e(n)}}function c(n){try{a(u.throw(n))}catch(n){e(n)}}function a(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(n){n(t)}))).then(i,c)}a((u=u.apply(t,r||[])).next())}));var t,r,o,u}),[n,e]);return(0,r.useEffect)((function(){f()}),[n,e]),a}var z=function(){return z=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var o in e=arguments[t])Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n},z.apply(this,arguments)},M=function(n,e,t,r){return new(t||(t=Promise))((function(o,i){function c(n){try{a(r.next(n))}catch(n){i(n)}}function u(n){try{a(r.throw(n))}catch(n){i(n)}}function a(n){var e;n.done?o(n.value):(e=n.value,e instanceof t?e:new t((function(n){n(e)}))).then(c,u)}a((r=r.apply(n,e||[])).next())}))},G=function(n,e){var t,r,o,i,c={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(t)throw new TypeError("Generator is already executing.");for(;c;)try{if(t=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return c.label++,{value:i[1],done:!1};case 5:c.label++,r=i[1],i=[0];continue;case 7:i=c.ops.pop(),c.trys.pop();continue;default:if(!((o=(o=c.trys).length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){c=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){c.label=i[1];break}if(6===i[0]&&c.label<o[1]){c.label=o[1],o=i;break}if(o&&c.label<o[2]){c.label=o[2],c.ops.push(i);break}o[2]&&c.ops.pop(),c.trys.pop();continue}i=e.call(n,c)}catch(n){i=[6,n],r=0}finally{t=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}};function D(n,e,t){var o=this,i=n.appName,c=n.scope,u=n.module,a=n.processor;void 0===t&&(t={});var s=z({skipCache:!1},t),f=h(i||c),p=f.scriptLocation,y=f.manifestLocation,m=(0,r.useState)(e),b=m[0],g=m[1],E=(0,r.useState)(),k=E[0],O=E[1],C=l(c,u,s.skipCache),S=(0,r.useRef)(!0);return(0,r.useEffect)((function(){if(S.current)if(C)try{w(c,u).then((function(n){g((function(){return n}))}))}catch(n){O((function(){return n}))}else p?d(i||c,p).then((function(){return M(o,void 0,void 0,(function(){var n;return G(this,(function(e){switch(e.label){case 0:return[4,w(c,u)];case 1:return n=e.sent(),g((function(){return n})),[2]}}))}))})).catch((function(n){O((function(){return n}))})):y&&v(y,i||c,c,a).then((function(){return M(o,void 0,void 0,(function(){var n;return G(this,(function(e){switch(e.label){case 0:return[4,w(c,u)];case 1:return n=e.sent(),g((function(){return n})),[2]}}))}))})).catch((function(n){O((function(){return n}))}));return function(){S.current=!1}}),[i,c,C,s.skipCache]),[b,k]}},8446:function(n,e,t){var r=t(939);n.exports=function(n,e){return r(n,e)}}}]);
//# sourceMappingURL=../sourcemaps/185.68a5613ce40c03565752cfe70c420f6c.js.map