{"version":3,"file":"js/543.243e94ccf5e5b46d1fdb.js","mappings":"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","sources":["webpack:///./src/app/component/order-details/aws-details.js","webpack:///./src/app/component/order-details/azure-details.js","webpack:///./src/app/component/order-details/gcp-details.js","webpack:///./src/app/component/order-details/partner-order-details.js","webpack:///./src/app/component/stratosphere-error-paths/get-stratosphere-error-paths.js","webpack:///./src/app/component/review-link/terms-form-group.js","webpack:///./src/app/component/bff-service/bff-service.js","webpack:///./src/app/component/review-link/review-link-account.js","webpack:///./src/app/component/stratosphere-notifications/stratosphere-notification.js","webpack:///./src/app/component/stratosphere-notifications/error-notification.js","webpack:///./src/app/component/stratosphere-app/stratosphere-app.js","webpack:///./src/app/component/shared/toast-notifications/toast-notifications.js","webpack:///./src/app/component/shared/footer/footer.js","webpack:///./src/App.js","webpack:///./src/locales/partner_aws/en.js","webpack:///./src/locales/partner_azure/en.js","webpack:///./src/locales/partner_gcp/en.js","webpack:///./src/locales/en/common.js","webpack:///./src/i18n.js","webpack:///./src/app/component/shared/constants.js","webpack:///./src/serviceWorker.js"],"sourcesContent":["import PropTypes from 'prop-types';\n\nfunction AwsDetails(orderDetails, local) {\n  return {\n    getRows() {\n      return [\n        {\n          label: local('review-order.customer_info.customer_number'),\n          value: orderDetails?.customerAccountId ?? '-',\n        },\n      ];\n    },\n  };\n}\n\nAwsDetails.propTypes = {\n  orderDetails: PropTypes.object.isRequired,\n  local: PropTypes.func.isRequired,\n};\n\nexport default AwsDetails;\n","import PropTypes from 'prop-types';\n\nfunction AzureDetails(orderDetails, local) {\n  return {\n    getRows() {\n      return [\n        {\n          label: local('review-order.customer_info.customer_number'),\n          value: orderDetails?.azureCustomerId ?? '-',\n        },\n      ];\n    },\n  };\n}\n\nAzureDetails.propTypes = {\n  orderDetails: PropTypes.object.isRequired,\n  local: PropTypes.func.isRequired,\n};\n\nexport default AzureDetails;\n","import PropTypes from 'prop-types';\n\nfunction GcpDetails(orderDetails, local) {\n  return {\n    getRows() {\n      return [\n        {\n          label: local('review-order.customer_info.customer_number'),\n          value: orderDetails?.gcpAccountId ?? '-',\n        },\n      ];\n    },\n  };\n}\n\nGcpDetails.propTypes = {\n  orderDetails: PropTypes.object.isRequired,\n  local: PropTypes.func.isRequired,\n};\n\nexport default GcpDetails;\n","import PropTypes from 'prop-types';\nimport AwsDetails from './aws-details';\nimport AzureDetails from './azure-details';\nimport GcpDetails from './gcp-details';\n\nfunction PartnerOrderDetails(partnerId, orderDetails, local) {\n  switch (partnerId) {\n    case 'aws':\n      return new AwsDetails(orderDetails, local);\n    case 'azure':\n      return new AzureDetails(orderDetails, local);\n    case 'gcp':\n      return new GcpDetails(orderDetails, local);\n    default:\n      throw new Error(`Unknown partner: ${partnerId}`);\n  }\n}\n\nPartnerOrderDetails.propTypes = {\n  partnerId: PropTypes.string.isRequired,\n  orderDetails: PropTypes.object,\n  local: PropTypes.func.isRequired,\n};\n\nexport default PartnerOrderDetails;\n","export default function getStratosphereErrorPaths(partnerId) {\n  return {\n    error: () => `/${partnerId}/error`,\n    orderError: () => `/${partnerId}/order-error`,\n    exportError: () => `/${partnerId}/export-error`,\n    systemError: () => `/${partnerId}/system-error`,\n    alreadyLinked: () => `/${partnerId}/already-linked`,\n    tokenError: () => `/${partnerId}/token-error`,\n    unauthorized: () => '/unauthorized',\n    needAssistance: () => `/${partnerId}/need-assistance`,\n  };\n}\n","import { Button, Checkbox, FormGroup, FormSelect, FormSelectOption } from '@patternfly/react-core';\nimport { ExternalLinkAltIcon } from '@patternfly/react-icons';\nimport PropTypes from 'prop-types';\nimport React, { useState } from 'react';\nimport langList from '../../../locales/language.json';\n\nfunction TermsFormGroup(props) {\n  const { local, onAgreeToTerms, onSelectTermsId, terms } = props;\n  const downloadURLs = terms[0]?.translations;\n\n  const [selectedLanguage, setSelectedLanguage] = useState(getDefaultLanguage());\n  const [selectedTerms, setSelectedTerms] = useState(getDefaultTerms(terms));\n  const [isAgreedToTerms, setIsAgreedToTerms] = useState(false);\n\n  const findTermsForLanguage = (languageCode) => {\n    return downloadURLs.find((downloadURL) => downloadURL.localeCode === languageCode);\n  };\n  const handleSelectLanguage = (languageCode) => {\n    let matchingLanguage = langList.find((lang) => lang.code === languageCode);\n    setSelectedLanguage(matchingLanguage);\n\n    let matchingTerms = findTermsForLanguage(languageCode);\n    setSelectedTerms(matchingTerms);\n    onSelectTermsId(matchingTerms.id);\n  };\n  const handleAgreeCheckbox = (checked) => {\n    setIsAgreedToTerms(checked);\n    onAgreeToTerms(checked);\n  };\n  const downloadTerms = () => {\n    window.open(selectedTerms.downloadUrl, '_blank');\n  };\n\n  return (\n    <>\n      <FormGroup label=\"Terms and conditions *\">\n        <FormSelect\n          value={selectedLanguage.code}\n          onChange={handleSelectLanguage}\n          aria-label=\"FormSelect Input\"\n          className={'pf-c-form-select-control'}\n        >\n          {langList.map((lang, index) => (\n            <FormSelectOption key={index} value={lang.code} label={lang.nativeName} />\n          ))}\n        </FormSelect>\n        <Checkbox\n          id=\"agree-check\"\n          isChecked={isAgreedToTerms}\n          className=\"pf-u-mt-md\"\n          label={\n            <>\n              {local('link-account.terms')}\n              <Button variant=\"link\" isInline onClick={downloadTerms}>\n                {local('link-account.conditions')}\n                &nbsp;\n                <ExternalLinkAltIcon />\n              </Button>\n            </>\n          }\n          onChange={handleAgreeCheckbox}\n          aria-label=\"terms checkbox\"\n        />\n      </FormGroup>\n    </>\n  );\n}\n\nfunction getDefaultLanguage() {\n  return langList.find((lang) => lang.code === 'en_US') || langList?.[0] || null;\n}\n\nfunction getDefaultTerms(terms) {\n  let defaultLanguage = getDefaultLanguage();\n  let translations = terms?.[0]?.translations;\n  return translations?.find((translation) => translation.localeCode === defaultLanguage.code);\n}\n\nTermsFormGroup.propTypes = {\n  local: PropTypes.func.isRequired,\n  onAgreeToTerms: PropTypes.func.isRequired,\n  onSelectTermsId: PropTypes.func.isRequired,\n  terms: PropTypes.array.isRequired,\n};\n\nexport { TermsFormGroup, getDefaultTerms };\n","import axios from 'axios';\n\nconst getApiUrl = () => {\n  const { apiUrl } = window['runConfig'] || {\n    apiUrl: 'https://access.stage.redhat.com/subscriptions/link/api/',\n  };\n  return apiUrl;\n};\n\nconst getPartnerOrderDetailsAsync = async (partnerId, signal) => {\n  return insights.chrome.auth.getToken().then((token) => {\n    return axios.get(getApiUrl() + `${partnerId}/details`, {\n      headers: { Authorization: `Bearer ${token}` },\n      withCredentials: true, // required to supply cookies on cross-site requests\n      signal: signal,\n    });\n  });\n};\n\nconst linkPartnerOrderToAccountAsync = async (partnerId, termsPdfId) => {\n  console.debug(`Linking partner=${partnerId}, terms=${termsPdfId}`);\n\n  return insights.chrome.auth.getToken().then((token) => {\n    return axios\n      .post(\n        getApiUrl() + `${partnerId}/link`,\n        {},\n        {\n          headers: { Authorization: `Bearer ${token}` },\n          params: {\n            termsPdfId: termsPdfId,\n            linkAllOrders: true, // no longer optional\n          },\n          withCredentials: true, // required to supply cookies on cross-site requests\n        }\n      )\n      .then((res) => res?.data?.linkSuccessful);\n  });\n};\n\nexport { getPartnerOrderDetailsAsync, linkPartnerOrderToAccountAsync };\n","import {\n  ActionGroup,\n  Button,\n  DescriptionList,\n  DescriptionListDescription,\n  DescriptionListGroup,\n  DescriptionListTerm,\n  Form,\n  PageSection,\n  Spinner,\n  Title,\n} from '@patternfly/react-core';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Redirect } from 'react-router-dom';\nimport useChrome from '@redhat-cloud-services/frontend-components/useChrome';\nimport PartnerOrderDetails from '../order-details/partner-order-details';\nimport getStratosphereErrorPaths from '../stratosphere-error-paths/get-stratosphere-error-paths';\nimport { getDefaultTerms, TermsFormGroup } from './terms-form-group';\n\n\n// fake for local testing by changing this import to \"...from '../bff-service/bff-service-fake'\"\nimport { getPartnerOrderDetailsAsync, linkPartnerOrderToAccountAsync } from '../bff-service/bff-service';\n\nclass ReviewLinkAccount extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      mergedResponse: null,\n      redirect: null,\n      // form contents\n      hideTerms: false,\n      isAgree: false,\n      termsPdfId: null,\n      // concurrent request control\n      submitting: false,\n      fetchingResponse: false,\n    };\n\n    this.abortController = new AbortController();\n  }\n\n  render() {\n    const { redirect, mergedResponse } = this.state;\n    const { partnerId, local, analytics } = this.props;\n\n    let accountDetails = {};\n\n    if (mergedResponse) {\n      if ('aws' === partnerId) {\n        accountDetails.awsAccountId = mergedResponse.marketplaceDetails.customerAccountId;\n      } else if ('azure' === partnerId) {\n        accountDetails.azureAccountId = mergedResponse.marketplaceDetails.azureCustomerId;\n      } else if ('gcp' === partnerId) {\n        accountDetails.gcpAccountId = mergedResponse.marketplaceDetails.gcpAccountId;\n      }\n\n      if (mergedResponse.redHatAccountDetails.accountNumber) {\n        accountDetails.rhAccountNumber = mergedResponse.redHatAccountDetails.accountNumber;\n      } else {\n        accountDetails.rhAccountNumber = mergedResponse.redHatAccountDetails.company;\n      }\n      console.debug('* accountDetails : ', accountDetails);\n    }\n\n    if (redirect) {\n\n      const info = {\n        outcome:'error',\n        partner: this.props.partnerId,\n        errorType: redirect //this has the redirect uri value equivalent to the error type\n      }\n      try{\n        if(accountDetails.linkedRedHatAccountId){\n\n          info.outcome = 'already-linked';\n          info.rhAccountNumber = mergedResponse.linkedRedHatAccountId;\n          info.rhProductList = mergedResponse.vendorOfferings\n        } \n    \n        analytics.track('MarketplaceConnectEvent', info);\n      } catch {\n\n        console.error('failed to track'+info)\n      }\n      finally{\n\n        const encodedData = encodeURIComponent(JSON.stringify(accountDetails));\n        const redirectUrl = redirect + `?data=${encodedData}`;\n        return <Redirect to={redirectUrl} />;\n      }\n    }\n    \n    if (!mergedResponse) {\n      return <Spinner size=\"xl\" aria-label=\"Waiting on order content to load\" />;\n    }\n\n    const { redHatAccountDetails, marketplaceDetails, vendorOfferings, terms } = mergedResponse;\n    const { isAgree, submitting } = this.state;\n\n    return (\n      <>\n        <PageSection isFilled={true} variant=\"light\" className=\"pf-u-p-2xl\">\n          {/* TODO update to use localization */}\n          <Title headingLevel=\"h1\" className=\"pf-u-pb-xl\">\n            Complete your account connection\n          </Title>\n          <DescriptionList\n            isHorizontal\n            horizontalTermWidthModifier={{\n              default: '12ch',\n              sm: '17ch',\n              md: '17ch',\n              lg: '17ch',\n              xl: '17ch',\n              '2xl': '17ch',\n            }}\n            className=\"pf-u-pb-2xl\"\n          >\n            <DescriptionListGroup>\n              <DescriptionListTerm>{this.props.local('review-link-account.accountNumberLabel')}</DescriptionListTerm>\n              <DescriptionListDescription>\n                {redHatAccountDetails.accountNumber\n                  ? redHatAccountDetails.accountNumber\n                  : this.props.local('review-link-account.defaultRedHatAccountNumber')}\n              </DescriptionListDescription>\n            </DescriptionListGroup>\n            {new PartnerOrderDetails(partnerId, marketplaceDetails, local).getRows().map((row, i) => (\n              <DescriptionListGroup key={i}>\n                <DescriptionListTerm>{row.label}</DescriptionListTerm>\n                <DescriptionListDescription>{row.value}</DescriptionListDescription>\n              </DescriptionListGroup>\n            ))}\n            <DescriptionListGroup>\n              <DescriptionListTerm>{this.props.local('review-link-account.subscriptionLabel')}</DescriptionListTerm>\n              <DescriptionListDescription>{vendorOfferings?.[0]?.description}</DescriptionListDescription>\n            </DescriptionListGroup>\n          </DescriptionList>\n          <Form>\n            {/* Embedded component for handling terms, need to remove when empty */\n            this.state.hideTerms ||\n            <TermsFormGroup\n              local={local}\n              terms={terms}\n              onAgreeToTerms={(agree) => this.setIsAgree(agree)}\n              onSelectTermsId={(id) => this.setTermsPdfId(id)}\n            />\n            }\n            <ActionGroup>\n              <Button variant=\"primary\" type=\"button\" isDisabled={!isAgree || submitting} onClick={() => this.linkAccounts()}>\n                {this.props.local('review-link-account.connectAccountButtonLabel')}\n              </Button>\n              <Button variant=\"link\" href=\"/\" component=\"a\" style={{ paddingTop: '6px' }}>\n                {this.props.local('review-link-account.cancelButtonLabel')}\n              </Button>\n            </ActionGroup>\n          </Form>\n        </PageSection>\n      </>\n    );\n  }\n\n  setMergedResponse(mergedResponse) {\n    this.setState({ mergedResponse: mergedResponse });\n  }\n\n  setRedirect(redirect) {\n    this.setState({ redirect: redirect });\n  }\n\n  setIsAgree(isAgree) {\n    this.setState({ isAgree: isAgree });\n  }\n\n  setTermsPdfId(termsPdfId) {\n    this.setState({ termsPdfId: termsPdfId });\n  }\n\n  setSubmitting(submitting) {\n    this.setState({ submitting: submitting });\n  }\n\n  setFetchingResponse(fetchingResponse) {\n    this.setState({ fetchingResponse: fetchingResponse });\n  }\n\n  fetchMergedResponse() {\n    if (this.state.mergedResponse === null && !this.state.fetchingResponse) {\n      console.debug('Starting to fetch entitlement details.');\n\n      this.setFetchingResponse(true);\n      getPartnerOrderDetailsAsync(this.props.partnerId, this.abortController.signal)\n        .then((res) => {\n          console.debug('Fetched merged response: ', JSON.stringify(res.data));\n\n          // If it's a 200 response but the body says the request wasn't successful\n          // call the error callback and make it look like an axios error, for compatibility\n          if (typeof res?.data?.successful === 'boolean' && !res.data.successful) {\n            this.errorCallback({ response: res });\n          } else {\n            this.initializeMergedResponse(res.data);\n          }\n        })\n        .catch((error) => {\n          this.errorCallback(error);\n        })\n        .finally(() => this.setFetchingResponse(false));\n    }\n  }\n\n  initializeMergedResponse(data) {\n    if (data.linkedRedHatAccountId) {\n      insights.chrome.auth.getUser().then((user) => {\n        if (user.identity.org_id === data.linkedRedHatAccountId) {\n          this.sendToLandingPage(data);\n        } else {\n          this.setRedirect(this.errorPaths().alreadyLinked());\n        }\n      });\n    }\n\n    this.setMergedResponse(data);\n\n    //cleaner to just set state here since we have to update isAgree to enable the connect button\n    if(data.terms === null || data.terms === undefined || data.terms.length < 1){\n      this.setState({isAgree: true, hideTerms: true})\n    } else {\n      this.setTermsPdfId(getDefaultTerms(data.terms).id);\n    }\n  }\n\n  componentDidMount() {\n    // start fetching when rendered\n    console.debug('Starting to fetch order details');\n    this.fetchMergedResponse();\n  }\n\n  componentWillUnmount() {\n    console.debug('Cancelling ongoing requests...');\n    this.abortController.abort();\n  }\n\n  linkAccounts() {\n    if (!this.state.submitting) {\n      const { partnerId } = this.props;\n      const { termsPdfId } = this.state;\n\n      this.setSubmitting(true);\n\n      linkPartnerOrderToAccountAsync(partnerId, termsPdfId)\n        .then((res) => this.onLinkSuccess(res))\n        .catch((err) => this.errorCallback(err))\n        .finally(() => this.setSubmitting(false));\n    }\n  }\n\n  onLinkSuccess(success) {\n    if (success) {\n      // show success then redirect\n      this.props.useToast({\n        key: 'confirm-link',\n        message: this.props.local(`${this.props.partnerId}:toast-notification.confirm-link.success`),\n        type: 'success',\n      });\n\n      try{\n        analytics.track('MarketplaceConnectEvent', {\n          outcome:'link-success',\n          partner: this.props.partnerId,\n          rhAccountNumber:this.state.mergedResponse?.redHatAccountDetails?.accountNumber,\n          rhProductList:this.state.mergedResponse?.vendorOfferings\n        });      \n      } catch {\n        console.error('failed to track'+JSON.stringify(this.state.mergedResponse));\n      \n      } finally{\n        this.sendToLandingPage(this.state.mergedResponse);\n      }\n\n    } else {\n      this.setRedirect(this.errorPaths().error());\n    }\n  }\n\n  sendToLandingPage(data) {\n    let vendorOfferings = data?.vendorOfferings;\n    let landingPage = vendorOfferings?.[0]?.landingPage || window['runConfig']['hrefConfig'];\n\n    console.debug('Sending to ' + landingPage);\n    window.location.assign(landingPage);\n  }\n\n  errorPaths() {\n    return getStratosphereErrorPaths(this.props.partnerId);\n  }\n\n  errorCallback(error) {\n    const errorPaths = this.errorPaths();\n    console.debug('Encountered error on call: ', JSON.stringify(error));\n\n    if (error.reason === 'AbortError' || error.message === 'canceled') {\n      // do not redirect if aborted\n      return;\n    }\n\n    if (error?.response?.status === 401) {\n      this.setRedirect(errorPaths.unauthorized());\n    }\n\n    switch (error?.response?.data?.reason) {\n      case 'terms_error':\n        this.setRedirect(errorPaths.error());\n        break;\n      case 'export_compliance_failure':\n        this.setRedirect(errorPaths.exportError());\n        break;\n      case 'linked_different_account': // fall-through\n      case 'linked_same_account':\n        this.setRedirect(errorPaths.orderError());\n        break;\n      case 'missing_seller':\n      case 'missing_token':\n      case 'invalid_token':\n      case 'expired_token':\n        this.setRedirect(errorPaths.tokenError());\n        break;\n      default:\n        this.setRedirect(errorPaths.systemError());\n    }\n  }\n}\n\nReviewLinkAccount.propTypes = {\n  partnerId: PropTypes.string.isRequired,\n  local: PropTypes.func.isRequired,\n  useToast: PropTypes.func.isRequired,\n};\n\nexport default (props) => {\n  const {analytics} = useChrome(); \n  return (<ReviewLinkAccount analytics={analytics} partnerId={props.partnerId} local={props.local} useToast={props.useToast}/>)}\n\n\n","import React from 'react';\nimport '@patternfly/react-core/dist/styles/base.css';\nimport { Card, CardTitle, CardBody, CardFooter } from '@patternfly/react-core';\nimport 'react-responsive-modal/styles.css';\nimport './stratosphere-notifications.scss';\nimport { Trans } from 'react-i18next';\n\nfunction StratosphereNotification(props) {\n  const { local, headerKey, bodyKey, footerKey, ...other } = props;\n\n  return (\n    <>\n      <Card id=\"notification-card\">\n        {/* https://reactjs.org/docs/conditional-rendering.html#inline-if-with-logical--operator */}\n        {headerKey && <CardTitle>{local(headerKey)}</CardTitle>}\n        {bodyKey && <CardBody>{local(bodyKey, other)}</CardBody>}\n        {footerKey && (\n          <CardFooter>\n            {/* See https://react.i18next.com/latest/trans-component */}\n            {/* <1> in locale file: support link, must supply a href attribute */}\n            <Trans t={local} i18nKey={footerKey}>\n              Please return to your <a target=\"blank\">marketplace console</a>\n            </Trans>\n          </CardFooter>\n        )}\n      </Card>\n    </>\n  );\n}\n\nexport default StratosphereNotification;\n","import React from 'react';\n\nimport '@patternfly/react-core/dist/styles/base.css';\nimport 'react-responsive-modal/styles.css';\nimport './stratosphere-notifications.scss';\nimport StratosphereNotification from './stratosphere-notification';\n\n\nfunction ErrorNotification(props) {\n  \n  return (\n    <StratosphereNotification\n      headerKey={`${props.type}.header`}\n      bodyKey={`${props.type}.body`}\n      footerKey={`${props.type}.footer`}\n      local={props.local}\n      {...props} // to inject dependencies\n    />\n  );\n}\n\nexport default ErrorNotification;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport ReviewLinkAccount from '../review-link/review-link-account';\nimport { Route, Switch } from 'react-router-dom';\nimport ErrorNotification from '../stratosphere-notifications/error-notification';\nimport getStratosphereErrorPaths from '../stratosphere-error-paths/get-stratosphere-error-paths';\n\nclass StratosphereApp extends React.Component {\n  static propTypes = {\n    match: PropTypes.object.isRequired,\n    useToast: PropTypes.func.isRequired,\n    local: PropTypes.func.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPartnerId() {\n    return this.props.match.params.partnerId;\n  }\n\n  getDecodedData(props) {\n    const encodedData = new URLSearchParams(props.location.search).get('data');\n    const decodedData = encodedData ? JSON.parse(decodeURIComponent(encodedData)) : {};\n    console.log('getDecodedData : ', decodedData);\n    return decodedData;\n  }\n\n  render() {\n    const partnerId = this.getPartnerId();\n    const { local, useToast } = this.props;\n\n    // create a version of the i18next \"t\" function named local that\n    // includes the partnerId as the namespace within the options\n    const localWithPartner = (key, options) =>\n      local(key, {\n        ...options,\n        ns: partnerId,\n      });\n\n    const errorPaths = getStratosphereErrorPaths(partnerId);\n\n    return (\n      <Switch>\n        <Route exact path={'/' + partnerId}>\n          <ReviewLinkAccount partnerId={partnerId} local={localWithPartner} useToast={useToast} />;\n        </Route>\n        <Route path={errorPaths.tokenError()}>\n          <ErrorNotification local={localWithPartner} type=\"token-error\" />\n        </Route>\n        <Route path={errorPaths.exportError()}>\n          <ErrorNotification local={localWithPartner} type=\"export-error\" />\n        </Route>\n        <Route path={[errorPaths.error(), errorPaths.orderError(), errorPaths.systemError()]}>\n          <ErrorNotification local={localWithPartner} type=\"general-error\" />\n        </Route>\n        <Route path={errorPaths.needAssistance()}>\n          <ErrorNotification local={localWithPartner} type=\"need-assistance\" />\n        </Route>\n        <Route\n          path={errorPaths.alreadyLinked()}\n          render={(props) => {\n            return <ErrorNotification accountDetails={this.getDecodedData(props)} local={localWithPartner} type=\"already-linked\" />;\n          }}\n        />\n      </Switch>\n    );\n  }\n}\n\nexport default StratosphereApp;\n","import React from 'react';\nimport './toast-notifications.scss';\n\nclass ToastNotification extends React.Component {\n  constructor(props) {\n    super();\n    this.state = {\n      notifObject: []\n    };\n  }\n\n  setNotification(val) {\n    var notifications = this.state.notifObject.concat({\n      key: val.key,\n      message: val.message,\n      type: val.type\n    });\n    this.setState({ notifObject: notifications})\n    setTimeout(() => {\n      if (this.state.notifObject) {\n        let notification_obj = this.state.notifObject.filter(\n          (item) => item.key !== val.key\n        );\n        this.setState({ notifObject: notification_obj });\n      }\n    }, 5000);\n  }\n\n  componentDidUpdate(prevProps) {\n    let data = this.props.toastData;\n    let lastData = prevProps.toastData;\n    if (data.key && data.key != lastData.key) {\n      this.setNotification(data);\n    }\n  }\n\n  render() {\n    return (\n      <>\n        {this.state.notifObject.length > 0 && (\n          <ul className='pf-c-alert-group pf-m-toast'>\n            {this.state.notifObject.map((t) => (\n              <li className='pf-c-alert-group__item' key={'toast-' + t.key}>\n                <div className={'pf-c-alert pf-m-' + t.type}>\n                  <div className='pf-c-alert__icon'>\n                    {t.type === 'success' && (\n                      <i className='fas fa-check-circle' aria-hidden='true'></i>\n                    )}\n                    {t.type === 'danger' && (\n                      <i className='fas fa-info-circle' aria-hidden='true'></i>\n                    )}\n                    {t.type === 'info' && (\n                      <i className='fas fa-info-circle' aria-hidden='true'></i>\n                    )}\n                  </div>\n                  <h4 className='pf-c-alert__title'>\n                    <div className='pf-c-alert__description'>\n                      <p>{t.message}</p>\n                    </div>\n                  </h4>\n                </div>\n              </li>\n            ))}\n          </ul>\n        )}\n      </>\n    );\n  }\n}\n\nexport default ToastNotification;\n","import React from 'react';\nimport './footer.scss';\nimport { Brand, Split, SplitItem, PageSection } from '@patternfly/react-core';\nimport imgBrand from '../../../../assets/red_hat_logo.svg';\n\nclass FooterComponent extends React.Component {\n  render() {\n    const { local } = this.props;\n    return (\n      <PageSection className=\"footer-container pf-m-limit-width\">\n        <Split className=\"footer-body\">\n          <SplitItem className=\"footer-content\">\n            <Brand src={imgBrand} className=\"footer-logo\" alt=\"Patternfly Logo\" />\n          </SplitItem>\n          <SplitItem isFilled className=\"footer-content\">\n            Copyright &copy; 2022 Red Hat, Inc.\n          </SplitItem>\n          <SplitItem className=\"footer-content policy-content\">\n            <span\n              className=\"custom-links\"\n              dangerouslySetInnerHTML={{\n                __html: local(`app-layout.privacy`),\n              }}\n            ></span>\n            |&nbsp;\n            <span\n              className=\"custom-links\"\n              dangerouslySetInnerHTML={{\n                __html: local(`app-layout.terms`),\n              }}\n            ></span>\n            |&nbsp;\n            <span\n              className=\"custom-links\"\n              dangerouslySetInnerHTML={{\n                __html: local(`app-layout.policy`),\n              }}\n            ></span>\n          </SplitItem>\n        </Split>\n      </PageSection>\n    );\n  }\n}\n\nexport default FooterComponent;\n","import React, { useEffect, useState } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport { useTranslation} from 'react-i18next';\n\nimport StratosphereApp from '../src/app/component/stratosphere-app/stratosphere-app';\nimport ToastNotification from './app/component/shared/toast-notifications/toast-notifications';\nimport getStratosphereErrorPaths from './app/component/stratosphere-error-paths/get-stratosphere-error-paths';\nimport Footer from './app/component/shared/footer/footer';\n\nimport '@patternfly/react-core/dist/styles/base.css';\nimport '@patternfly/patternfly/patternfly.css';\nimport './App.scss';\nimport ErrorNotification from './app/component/stratosphere-notifications/error-notification';\nimport { useChrome } from '@redhat-cloud-services/frontend-components/useChrome';\n\nfunction App() {\n    // for passing toast notifications\n    const [toast, setToast] = useState({});\n    const chrome = useChrome();\n    const { t, i18n } = useTranslation();\n\n    useEffect(() => {\n        chrome.updateDocumentTitle('connect');\n        window.history.pushState(null, null, window.location.href);\n        window.onpopstate = function () {\n            window.history.go(1);\n        };\n\n        // unregister as a cleanup step for this component\n        const unregister = chrome.on('APP_NAVIGATION', (event) => history.push(`/${event.navId}`));\n        return () => {\n            unregister();\n        };\n    }, []); // no dependencies, will not re-run after first render\n\n    return (\n        <>\n            <ToastNotification toastData={toast} />\n            <Switch>\n                <Route exact path=\"/\">\n                    <ErrorNotification local={t} type=\"default-error\" />\n                </Route>\n                <Route\n                    path=\"/:partnerId\"\n                    // must render this way so the `partnerId` match can be injected via props\n                    render={(props) => (\n                        <StratosphereApp\n                            local={t}\n                            i18n={i18n}\n                            useToast={setToast}\n                            getErrorPaths={getStratosphereErrorPaths}\n                            {...props}\n                        />\n                    )}\n                />\n            </Switch>\n            <Footer local={t} />\n        </>\n    );\n}\n\nexport default App;\n","const { hrefConfig, hrefEnv } = window['runConfig'] || {\n  hrefConfig: 'https://access.redhat.com/',\n  hrefEnv: '',\n};\nexport default {\n  _comment: 'English',\n  locale: 'en_us',\n  'general-error': {\n    body: 'An unexpected issue has occurred with your AWS Marketplace order. Please go back to AWS Marketplace and restart the configuration process for your product.',\n  },\n  'already-linked': {\n    header: 'The AWS account is already linked to a different Red Hat account.',\n    body:\n      'According to our records, the product you had purchased with AWS account ID ' +\n      '{{accountDetails.awsAccountId}} has already been linked ' +\n      'to a different Red Hat account than the one you logged in with. The Red ' +\n      'Hat account number you logged in with is {{accountDetails.rhAccountNumber}}. ' +\n      'Return back to the AWS marketplace to log into the correct AWS account or ' +\n      'try logging into the corresponding Red Hat account with the purchase.',\n    footer: 'Please return to the <1 href=\"https://console.aws.amazon.com\">AWS console</1> to get started!',\n  },\n  'token-error': {\n    body: 'The onboarding process for your AWS Marketplace product has timed out. Please go back to AWS Marketplace and restart the configuration process for your product.',\n  },\n  unauthorized: {\n    body: 'Please return to AWS Marketplace and restart the linking process.',\n  },\n  'review-order': {\n    headline: 'Link your AWS and Red Hat Accounts',\n    customer_info: {\n      title: 'AWS Customer information',\n      customer_number: 'AWS account ID',\n      customer_identifier: 'Customer Identifier',\n    },\n  },\n  'toast-notification': {\n    'confirm-link': {\n      success: 'Success! Your Red Hat account is now linked with your AWS Order.',\n    },\n  },\n};\n","const { hrefConfig, hrefEnv } = window['runConfig'] || {\n  hrefConfig: 'https://access.redhat.com/',\n  hrefEnv: '',\n};\nexport default {\n  _comment: 'English',\n  locale: 'en_us',\n  'general-error': {\n    body: 'An unexpected issue has occurred with your Azure Marketplace order. Please go back to Azure Marketplace and restart the configuration process for your product.',\n  },\n  'already-linked': {\n    header: 'The Azure account is already linked to a different Red Hat account.',\n    body:\n      'According to our records, the product you had purchased with Azure account ID ' +\n      '{{accountDetails.azureAccountId}} has already been linked ' +\n      'to a different Red Hat account than the one you logged in with. The Red ' +\n      'Hat account number you logged in with is {{accountDetails.rhAccountNumber}}. ' +\n      'Return back to the Azure marketplace to log into the correct Azure account or ' +\n      'try logging into the corresponding Red Hat account with the purchase.',\n    // TODO update URL\n    footer: 'Please return to the <1 href=\"https://portal.azure.com\">Azure console</1> to get started!',\n  },\n  \"token-error\": {\n    body: \"The onboarding process for your Azure Marketplace product has timed out. Please go back to Azure Marketplace and restart the configuration process for your product.\",\n  },\n  unauthorized: {\n    body: 'Please return to the Azure Marketplace and restart the linking process.',\n  },\n  'review-order': {\n    headline: 'Link your Azure and Red Hat Accounts',\n    // TODO Lorem ipsum?\n    customer_info: {\n      title: 'Azure Customer information',\n      customer_number: 'Account Id',\n      customer_identifier: 'Customer Identifier',\n    }\n  },\n  'toast-notification': {\n    'confirm-link': {\n      success: 'Success! Your Red Hat account is now linked with your Azure Order.',\n    },\n  },\n};\n","const { hrefConfig, hrefEnv } = window['runConfig'] || {\n  hrefConfig: 'https://access.redhat.com/',\n  hrefEnv: '',\n};\nexport default {\n  _comment: 'English',\n  locale: 'en_us',\n  'general-error': {\n    body: 'An unexpected issue has occurred with your GCP Marketplace order. Please go back to GCP Marketplace and restart the configuration process for your product.',\n  },\n  'already-linked': {\n    header: 'The GCP account is already linked to a different Red Hat account.',\n    body:\n      'According to our records, the product you had purchased with GCP account ID ' +\n      '{{accountDetails.gcpAccountId}} has already been linked ' +\n      'to a different Red Hat account than the one you logged in with. The Red ' +\n      'Hat account number you logged in with is {{accountDetails.rhAccountNumber}}. ' +\n      'Return back to the GCP marketplace to log into the correct GCP account or ' +\n      'try logging into the corresponding Red Hat account with the purchase.',\n    footer: 'Please return to the <1 href=\"https://console.cloud.google.com\">GCP console</1> to get started!',\n  },\n  'token-error': {\n    body: \"The onboarding process for your GCP Marketplace product has timed out. Please go back to GCP Marketplace and restart the configuration process for your product.\",\n  },\n  unauthorized: {\n    body: 'Please return to the GCP Marketplace and restart the linking process.',\n  },\n  'review-order': {\n    headline: 'Link your GCP and Red Hat Accounts',\n    customer_info: {\n      title: 'GCP Customer information',\n      customer_number: 'GCP Account ID',\n      customer_identifier: 'Customer Identifier',\n    }\n  },\n  'toast-notification': {\n    'confirm-link': {\n      success: 'Success! Your Red Hat account is now linked with your GCP Order.',\n    },\n  },\n};\n","const { hrefConfig, hrefEnv } = window[\"runConfig\"] || {\n  hrefConfig: \"https://access.redhat.com/\",\n  hrefEnv: \"\",\n};\nexport default {\n  _comment: \"English\",\n  locale: \"en_us\",\n  'general-error': {\n    header: 'An issue has occurred',\n    body: 'An unexpected issue has occurred with your Marketplace order. Please go back to the Marketplace and restart the configuration process for your product.',\n    footer: 'If the issue persists, please contact <1 href=\"https://access.redhat.com/\">Red Hat customer support</1>.',\n  },\n  \"export-error\": {\n    header: \"Request cannot be processed at this time\",\n    body: \"Your account is on hold for further review by our Export Compliance Team. Once the hold is resolved, well be in touch. We make every effort to resolve export holds as quickly as possible. Export holds are reviewed and resolved Monday through Friday from 08:00  17:00 Eastern Time.\",\n    footer: \"<1 href=\\\"https://access.redhat.com/articles/1340183\\\">Why is my account on Export Hold?</1>\",\n  },\n\n  \"default-error\": {\n      header: \"An issue has occurred.\",\n      body:\n        \"Please go back and try again.\",\n      footer: \"Please restart the linking process.\",\n    },\n  \"already-linked\": {\n    header: \"Already linked\",\n    body:\n      \"Your order has already been linked.\",\n    footer: \"Go Back\",\n  },\n  \"token-error\": {\n    header: \"An issue has occurred\",\n    body: \"The onboarding process for your Marketplace product has timed out. Please go back to Marketplace and restart the configuration process for your product.\",\n    footer: \"If the issue persists, please contact <1 href=\\\"https://access.redhat.com/\\\">Red Hat customer support</1>.\"\n  },\n  \"unauthorized\": {\n    header: \"Your Red Hat session has expired\",\n    body:\n      \"Please return to Marketplace and restart the linking process.\",\n  },\n  \"app-layout\": {\n    review: \"Review order summary\",\n    link: \"Link your Red Hat Account\",\n    learn: \"Learn More\",\n    privacy:\n      \"<a href='https://www.redhat.com/en/about/privacy-policy' target='blank'>Privacy statement </a>\",\n    terms:\n      \"<a href='https://www.redhat.com/en/about/terms-use' target='blank'>Terms of use </a>\",\n    policy:\n      \"<a href='https://www.redhat.com/en/about/all-policies-guidelines' target='blank'>All policies and guidelines </a>\",\n    landing: \"Welcome to Red Hat Partner Link Portal\",\n  },\n  \"need-assistance\": {\n    header: \"Need assistance?\",\n    \"a-body\":\n      \"For inquiries related to your account linking, contact RedHat Customer Support.\",\n    \"b-body\": `Check out this <a href='${hrefConfig}articles/5024951' target='blank'>FAQ</a> article in the Red Hat Customer Portal for more information about how Red Hat supports Cloud Account Linking`,\n    footer: \"Contact RedHat Support\",\n  },\n  'review-link-account': {\n    defaultRedHatAccountNumber: \"Creation of new account number pending\",\n    accountNumberLabel: \"Red Hat account number\",\n    subscriptionLabel: \"Subscription(s)\",\n    connectAccountButtonLabel: \"Connect accounts\",\n    cancelButtonLabel: \"Cancel\"\n  },\n  \"link-account\": {\n    header: \"Link your Red Hat account\",\n    description:\n        \"Review your Red Hat account details below. If the information is not correct and you need help, contact Red Hat Customer Support.\",\n    link_accounts: {\n      title: \"Auto-link opt-in\",\n      required_fields: \"*Required fields\",\n      checkbox_label: \"Automatically link your future purchases of Red Hat products from the Marketplace to your Red Hat Account.\",\n    },\n    enterprise_agreement: {\n      title: \"Enterprise agreement\",\n      description:\n          \"To read the Red Hat Enterprise Agreement document (PDF), select your preferred language and location from the dropdown menu.\",\n      download: \"Download\",\n      helper_text: \"Change agreement's location and language\",\n    },\n    enterprise_agreement_default_lang: {\n      name: \"United States (English)\",\n    },\n    terms: \"I have read and agreed to the \",\n    conditions: \"terms and conditions.\",\n    button: {\n      confirm: \"Confirm\",\n      back: \"Back\",\n      cancel: \"Cancel\",\n    }\n  }\n};","import i18n from 'i18next';\n\nimport * as partner_aws from './locales/partner_aws/index';\nimport * as partner_azure from './locales/partner_azure/index';\nimport * as partner_gcp from './locales/partner_gcp/index';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport { initReactI18next } from 'react-i18next';\nimport detector from 'i18next-browser-languagedetector';\nimport commonTranslationEN from './locales/en/common.js';\nimport constants from './app/component/shared/constants.js';\n\nconst resources = {\n  en: {\n    aws: partner_aws.translationAWSEN,\n    azure: partner_azure.translationAzureEN,\n    gcp: partner_gcp.translationGCPEN,\n    common: commonTranslationEN,\n  },\n};\ni18n\n  .use(detector)\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    fallbackLng: 'en',\n    order: ['querystring', 'cookie', 'localStorage', 'sessionStorage', 'navigator', 'htmlTag', 'path', 'subdomain'],\n    resources,\n    debug: false,\n    languages: ['en'],\n    react: {\n      useSuspense: false,\n    },\n    interpolation: {\n      escapeValue: false,\n    },\n\n    ns: constants.namespaces,\n\n    fallbackNS: 'common',\n  });\n\nexport default i18n;\n","export default {\n  namespaces: ['aws', 'ibm-dsw', 'common', 'azure', 'gcp'],\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { \"Service-Worker\": \"script\" },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n"],"names":["AwsDetails","orderDetails","local","getRows","label","value","customerAccountId","propTypes","PropTypes","AzureDetails","azureCustomerId","GcpDetails","gcpAccountId","PartnerOrderDetails","partnerId","Error","getStratosphereErrorPaths","error","orderError","exportError","systemError","alreadyLinked","tokenError","unauthorized","needAssistance","TermsFormGroup","props","onAgreeToTerms","onSelectTermsId","terms","downloadURLs","translations","selectedLanguage","setSelectedLanguage","useState","getDefaultLanguage","selectedTerms","setSelectedTerms","getDefaultTerms","isAgreedToTerms","setIsAgreedToTerms","FormGroup","FormSelect","code","onChange","languageCode","matchingLanguage","langList","lang","matchingTerms","find","downloadURL","localeCode","findTermsForLanguage","id","className","index","FormSelectOption","key","nativeName","Checkbox","isChecked","Button","variant","isInline","onClick","window","open","downloadUrl","checked","defaultLanguage","translation","getApiUrl","apiUrl","ReviewLinkAccount","React","constructor","super","this","state","mergedResponse","redirect","hideTerms","isAgree","termsPdfId","submitting","fetchingResponse","abortController","AbortController","render","analytics","accountDetails","awsAccountId","marketplaceDetails","azureAccountId","redHatAccountDetails","accountNumber","rhAccountNumber","company","console","debug","info","outcome","partner","errorType","linkedRedHatAccountId","rhProductList","vendorOfferings","track","redirectUrl","encodeURIComponent","JSON","stringify","Redirect","to","Spinner","size","PageSection","isFilled","Title","headingLevel","DescriptionList","isHorizontal","horizontalTermWidthModifier","default","sm","md","lg","xl","DescriptionListGroup","DescriptionListTerm","DescriptionListDescription","map","row","i","description","Form","agree","setIsAgree","setTermsPdfId","ActionGroup","type","isDisabled","linkAccounts","href","component","style","paddingTop","setMergedResponse","setState","setRedirect","setSubmitting","setFetchingResponse","fetchMergedResponse","async","signal","insights","chrome","auth","getToken","then","token","axios","headers","Authorization","withCredentials","getPartnerOrderDetailsAsync","res","data","successful","initializeMergedResponse","errorCallback","response","catch","finally","getUser","user","identity","org_id","sendToLandingPage","errorPaths","undefined","length","componentDidMount","componentWillUnmount","abort","params","linkAllOrders","linkSuccessful","linkPartnerOrderToAccountAsync","onLinkSuccess","err","success","useToast","message","landingPage","location","assign","reason","status","useChrome","headerKey","bodyKey","footerKey","other","Card","CardTitle","CardBody","CardFooter","t","i18nKey","target","StratosphereApp","static","match","getPartnerId","getDecodedData","encodedData","URLSearchParams","search","get","decodedData","parse","decodeURIComponent","log","localWithPartner","options","ns","Switch","Route","exact","path","ToastNotification","notifObject","setNotification","val","notifications","concat","setTimeout","notification_obj","filter","item","componentDidUpdate","prevProps","toastData","lastData","FooterComponent","Split","SplitItem","Brand","src","imgBrand","alt","dangerouslySetInnerHTML","__html","toast","setToast","i18n","useTranslation","useEffect","updateDocumentTitle","history","pushState","onpopstate","go","unregister","on","event","push","navId","getErrorPaths","hrefConfig","hrefEnv","resources","en","aws","_comment","locale","body","header","footer","headline","customer_info","title","customer_number","customer_identifier","azure","gcp","common","review","link","learn","privacy","policy","landing","defaultRedHatAccountNumber","accountNumberLabel","subscriptionLabel","connectAccountButtonLabel","cancelButtonLabel","link_accounts","required_fields","checkbox_label","enterprise_agreement","download","helper_text","enterprise_agreement_default_lang","name","conditions","button","confirm","back","cancel","detector","use","LanguageDetector","initReactI18next","init","fallbackLng","order","languages","react","useSuspense","interpolation","escapeValue","fallbackNS","navigator","serviceWorker","ready","registration","Boolean","hostname"],"sourceRoot":""}